<ui-modal *ngIf="videoIncompatible">
  <div class="segments-incompatible">
    <div>
      <p>{{ 'VIDEO_SEGMENTS.INCOMPATIBLE.FIRST' | translate }}</p>
      <p>{{ 'VIDEO_SEGMENTS.INCOMPATIBLE.SECOND' | translate }}</p>
    </div>
    <ui-button buttonColor="success" buttonIcon="done" (click)="$videoIncompatible()">{{ 'GENERAL.OK' | translate }}</ui-button>
  </div>
</ui-modal>
<div [hidden]="!videoSegments" class="segments-container">
  <p>{{ 'VIDEO_SEGMENTS.FILES_CLIPS' | translate }}</p>
  <div class="segments-files">
    <div *ngFor="let info of store.state.videoInfo; index as i">
      <div *ngIf="info.videoStreams" (click)="videoFileChange(i)" [class]="i == store.i ? 'bg-slate-800' : ''">
        <div class="file-title">
          <b>{{ i + 1 }} |</b>
          <p>{{ store.state.fileInfo[i].fileName }}</p>
        </div>
        <div class="file-info">
          <img [src]="store.state.fileInfo[i].fileThumb"/>
          <div>
            <p>{{ info.videoStreams[0].duration | duration }} - {{ info.videoStreams[0].size | filesize }}</p>
            <p>{{ info.videoStreams[1].coded_width }}x{{ info.videoStreams[1].coded_height }} @{{ info.videoStreams[1].r_frame_rate | expression }}fps</p>
            <p>{{ store.state.fileInfo[i].fileType }} ({{ info.videoStreams[1].codec_name + (info.videoStreams[1].codec_tag_string != '[0][0][0][0]' ? '/' + info.videoStreams[1].codec_tag_string : '') }})</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="segments-buttons">
    <div>
      <ui-button buttonColor="dark" buttonIcon="add" [buttonTooltip]="'VIDEO_SEGMENTS.FILE_ADD' | translate" (click)="videoAdd.click()"></ui-button>
      <ui-button buttonColor="dark" buttonIcon="remove" [buttonTooltip]="'VIDEO_SEGMENTS.FILE_REMOVE' | translate" (click)="videoFileRemove()"></ui-button>
    </div>
    <div>
      <ui-button buttonColor="dark" buttonIcon="move" [buttonTooltip]="'VIDEO_SEGMENTS.FILE_MOVE_UP' | translate" (click)="videoFileMoveUp()"></ui-button>
      <ui-button buttonColor="dark" buttonIcon="move" buttonIconClass="-scale-y-100" [buttonTooltip]="'VIDEO_SEGMENTS.FILE_MOVE_DOWN' | translate" (click)="videoFileMoveDown()"></ui-button>
    </div>
  </div>
  <input #videoAdd hidden title="" type="file" (change)="videoFileAdd($event)" (click)="videoAdd.value = ''" />
</div>